How to effectively run a program without giving much overhead to the system