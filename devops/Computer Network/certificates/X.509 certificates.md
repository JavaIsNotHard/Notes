each certificate contains the public key of the user and is signed with the private key of a trusted certification authority

based on the use of public key cryptography and digital signature

digital signature -> hash + encryption, basically we hash the content that we want to send over the untrusted medium, the signer then signs the hash with its private key and sends it to the receiver alongside the original message, the receiver gets the encrypted hash, decrypts the hash, computes a new hash for the original message and compares the hash, if the hash matches then it hasn't been tampered

But digital signature doesn't provide confidentiality, we need another shared secret key between the sender and the receiver to encrypt the previously encrypted + original message so that when it travels through the untrusted medium, it is confidential as long as the shared secret is not exposed

the shared secret is mainly obtained through the use of deffie-hellamn algorithm and elliptic curve DH algorithm which is an algorithm to safely and securely exchange shared secret between two communication mediums

![[Pasted image 20250911195656.png]]


![[Pasted image 20250912120041.png]]

these are the fields of the X.509 certificates, this includes all the information from the identity of the user to the public key of the client, its validity and much more 




when requesting to a server and during the client key exchange, how and when does the client generate its key pair. the answer is that the client doesn't have to generate anything, key pair are only generated by the server that we are requesting from.

but how does the server publish its public key to the certificate authority:
1. the server admin first creates a public/private key pair using the command `openssl genrsa` or any other algorithm
	1. this creates a public and private key pair, the public key should be published to the CA and the private key kept secret locally
2. the requester or the server then builds a CSR (certificate signing request) that includes the public key and identifying information
	1. the CSR is signed with the private key of server (basically a digital signature is created using the private key for encrypting the public key and other information)
	2. the CA itself itself signs the server's public key with the CA's private key and creates a digital signature for authentication and validation, signing with CA's private key means that if another client trusts the CA then it can trust the public key it signed
3. the CSR is sent to the CA for validation
	1. the validation includes the following steps
		1. domain validation : CA confirms the applicant controls the domain name
		2. organization validation
		3. extended validation
4. then the CA binds the CSR's public key to the client's identity, and after validation the CA signs the public key with its own private key
5. the subject receives its CA certificate and installs in into its server alongside its private key 

whenever a client requests the X.509 certificate from the server, the server presents on only its own certificate but the entire chain from the root level to the intermediate level and then of the leaf level 

the client then verifies each level of certificate, the verification process does two things: authenticates and checks the integrity of the certificate

